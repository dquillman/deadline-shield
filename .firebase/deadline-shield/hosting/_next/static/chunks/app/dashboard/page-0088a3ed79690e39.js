(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{3185:function(e,t,a){Promise.resolve().then(a.bind(a,7802))},7802:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return g}});var r=a(7437),s=a(2265),n=a(5389),l=a(6410),i=a(5978),o=a(5434),d=a(7648),c=a(1439);let u={Starter:5,Pro:25,Enterprise:9999};var h=a(5922);function x(){let{theme:e,setTheme:t}=(0,h.F)(),{user:a}=(0,n.a)(),[o,d]=(0,s.useState)(!1),[c,u]=(0,s.useState)(!1);(0,s.useEffect)(()=>{d(!0)},[]);let x=async e=>{if(t(e),a)try{await (0,i.r7)((0,i.JU)(l.db,"users",a.uid),{themePreference:e})}catch(e){console.error("Error saving theme preference:",e)}};return(0,r.jsxs)("div",{style:{position:"relative"},children:[(0,r.jsx)("button",{onClick:()=>u(!c),style:{background:"none",border:"none",cursor:"pointer",fontSize:"1.5em",padding:"8px",display:"block"},"aria-label":"Settings",title:"Settings",children:"⚙️"}),o&&c&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{style:{position:"fixed",inset:0,zIndex:40},onClick:()=>u(!1)}),(0,r.jsxs)("div",{style:{position:"absolute",right:0,marginTop:"8px",background:"white",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 10px 15px -3px rgba(0,0,0,0.1)",padding:"16px",minWidth:"200px",zIndex:50},className:"dark:bg-slate-900 dark:border-slate-700",children:[(0,r.jsx)("h3",{style:{fontSize:"0.875rem",fontWeight:"600",marginBottom:"12px",color:"#374151"},className:"dark:text-slate-100",children:"Appearance"}),(0,r.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:["system","light","dark"].map(t=>(0,r.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",padding:"6px",borderRadius:"4px",background:e===t?"#f3f4f6":"transparent"},className:e===t?"dark:bg-slate-800":"",children:[(0,r.jsx)("input",{type:"radio",name:"theme",value:t,checked:e===t,onChange:e=>x(e.target.value),style:{cursor:"pointer"}}),(0,r.jsx)("span",{style:{fontSize:"0.875rem",textTransform:"capitalize",color:"#374151"},className:"dark:text-slate-300",children:t})]},t))}),(0,r.jsxs)("div",{className:"mt-4 pt-3 border-t border-gray-100 dark:border-slate-800 text-[10px] text-gray-400 dark:text-slate-500 text-center",children:["v","0.1.1"," (",new Date("2026-01-15T04:07:15.542Z").toLocaleDateString(),")"]})]})]})]})}function g(){let{user:e}=(0,n.a)(),[t,a]=(0,s.useState)([]),[g,m]=(0,s.useState)(null),[p,b]=(0,s.useState)(null),[y,f]=(0,s.useState)(!0),{setTheme:v}=(0,h.F)(),[k,j]=(0,s.useState)({name:"",url:"",frequency:"Daily"}),[S,C]=(0,s.useState)(""),[E,w]=(0,s.useState)(!1),[N,D]=(0,s.useState)(null),[A,T]=(0,s.useState)("EXPECTED_CHANGE"),[I,R]=(0,s.useState)(""),[L,P]=(0,s.useState)(null),[O,U]=(0,s.useState)("TEMPORARY"),[_,z]=(0,s.useState)("");(0,s.useEffect)(()=>{if(!e){f(!1);return}(async()=>{let t=(0,i.JU)(l.db,"users",e.uid),r=(0,i.cf)(t,e=>{if(e.exists()){let t=e.data();m(t),t.themePreference&&v(t.themePreference),(!1===t.onboardingComplete||void 0===t.onboardingComplete)&&b(1)}else m({plan:"Starter",onboardingComplete:!1}),b(1);f(!1)}),s=(0,i.IO)((0,i.hJ)(l.db,"sources"),(0,i.ar)("userId","==",e.uid)),n=(0,i.cf)(s,e=>{let t=[];e.forEach(e=>{t.push({id:e.id,...e.data()})}),a(t)});return()=>{r(),n()}})()},[e]);let M=async t=>{if(t.preventDefault(),C(""),w(!0),e)try{let e=(0,o.V1)(l.wk,"createSource");await e({name:k.name,url:k.url,frequency:k.frequency}),j({name:"",url:"",frequency:"Daily"})}catch(e){C(e.message)}finally{w(!1)}},B=async e=>{if(confirm("Are you sure?"))try{await (0,i.oe)((0,i.JU)(l.db,"sources",e))}catch(e){alert(e.message)}},W=async e=>{D(e),T("EXPECTED_CHANGE"),R("")},V=async()=>{if((null==N?void 0:N.id)&&e)try{let t={watchMode:N.watchMode||"FullContent",title:N.lastTitle||"",metaDescription:N.lastMetaDescription||"",contentSample:N.lastContentSample||"",url:N.url};await (0,i.r7)((0,i.JU)(l.db,"sources",N.id),{needsCheck:!1,lastStatus:"OK",status:"OK",lastVerifiedAt:(0,i.Bt)(),verifiedAt:(0,i.Bt)(),verifiedBy:e.uid,verifiedReason:A,verifiedNote:I,verifiedHash:N.lastHash||null,verifiedFingerprint:t,consecutiveFailures:0,backoffLevel:0}),await (0,i.ET)((0,i.hJ)(l.db,"audit_logs"),{userId:e.uid,action:"MANUAL_VERIFY",sourceId:N.id,sourceName:N.name,timestamp:(0,i.Bt)(),verifiedHash:N.lastHash||null,verifiedReason:A,sourceSnapshot:t,details:I||"Manually verified as ".concat(A)}),D(null)}catch(e){alert("Error: "+e.message)}},H=e=>{P(e),U("TEMPORARY"),z("")},K=async(e,r)=>{try{let s=await (0,i.PL)((0,i.IO)((0,i.hJ)(l.db,"changes"),(0,i.ar)("sourceId","==",e),(0,i.Xo)("detectedAt","desc"),(0,i.b9)(1)));if(s.empty)return;let n=s.docs[0].id,d=(0,o.V1)(l.wk,"acknowledgeChange");await d({changeId:n,ackStatus:r}),a(t.map(t=>t.id===e?{...t,ackStatus:r}:t))}catch(e){console.error("Error acknowledging change:",e)}},G=async()=>{if((null==L?void 0:L.id)&&e)try{await (0,i.r7)((0,i.JU)(l.db,"sources",L.id),{status:"PAUSED",lastStatus:"PAUSED",pausedAt:(0,i.Bt)(),pausedBy:e.uid,pauseReason:O,nextCheckAt:null}),await (0,i.ET)((0,i.hJ)(l.db,"audit_logs"),{userId:e.uid,action:"PAUSE_SOURCE",sourceId:L.id,sourceName:L.name,timestamp:(0,i.Bt)(),details:"Paused: ".concat(O,". ").concat(_)}),P(null)}catch(e){alert("Error: "+e.message)}},F=(null==g?void 0:g.plan)==="Pro"||(null==g?void 0:g.plan)==="Enterprise",J=async()=>{if(e)try{await (0,i.r7)((0,i.JU)(l.db,"users",e.uid),{onboardingComplete:!0}),b(null)}catch(e){console.error("Error completing onboarding:",e)}},q=t.filter(e=>"Changed"===e.lastStatus&&!e.ackStatus).length,Y=async t=>{if(t.id&&e&&confirm("Resume monitoring for ".concat(t.name,"?")))try{await (0,i.r7)((0,i.JU)(l.db,"sources",t.id),{status:"OK",lastStatus:"No Change",pausedAt:null,pausedBy:null,pauseReason:null,nextCheckAt:(0,i.Bt)()}),await (0,i.ET)((0,i.hJ)(l.db,"audit_logs"),{userId:e.uid,action:"RESUME_SOURCE",sourceId:t.id,sourceName:t.name,timestamp:(0,i.Bt)(),details:"User manually resumed source."})}catch(e){alert("Error: "+e.message)}};return y?(0,r.jsx)("div",{style:{padding:20},children:"Loading Guardian..."}):e?(0,r.jsxs)("div",{className:"p-5 max-w-screen-xl mx-auto font-sans bg-white dark:bg-slate-950 dark:text-slate-100 min-h-screen transition-colors duration-300",children:[null!==p&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center backdrop-blur-sm",children:(0,r.jsxs)("div",{className:"bg-white dark:bg-slate-900 p-8 rounded-xl max-w-md shadow-2xl border dark:border-slate-700",children:[1===p&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-xl font-semibold mb-3 dark:text-slate-100",children:"\uD83C\uDFAF What we watch"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-slate-300 mb-5",children:"We monitor pages that contain deadlines, regulatory changes, or obligations."}),(0,r.jsx)("button",{onClick:()=>b(2),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Next"})]}),2===p&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-xl font-semibold mb-3 dark:text-slate-100",children:"\uD83D\uDD14 How alerts work"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-slate-300 mb-5",children:"You'll only be notified when something truly matters. We reduce noise so you can focus."}),(0,r.jsx)("button",{onClick:()=>b(3),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Next"})]}),3===p&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-xl font-semibold mb-3 dark:text-slate-100",children:"\uD83D\uDEE1️ What Guardian does"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-slate-300 mb-5",children:'Guardian explains changes and recommends actions like "Update" or "Escalate".'}),(0,r.jsx)("button",{onClick:J,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Got it"})]})]})}),(0,r.jsxs)("div",{className:"flex justify-between items-center mb-8 bg-gray-50 dark:bg-slate-900/40 p-4 rounded-xl border border-gray-100 dark:border-slate-800/50",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold dark:text-slate-100 tracking-tight",children:"Dashboard"}),(0,r.jsxs)("div",{className:"flex items-center gap-6",children:[(0,r.jsxs)("div",{className:"text-sm dark:text-slate-300 hidden md:block",children:[(0,r.jsxs)("span",{className:"bg-gray-200 dark:bg-slate-800 px-3 py-1 rounded-full text-xs font-medium",children:["Plan: ",(0,r.jsx)("strong",{className:"dark:text-slate-100",children:null==g?void 0:g.plan})]}),(0,r.jsxs)("span",{className:"ml-4",children:["Sources: ",t.length," / ",u[(null==g?void 0:g.plan)||"Starter"]]})]}),(0,r.jsx)(d.default,{href:"/changes",className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 hover:underline text-sm font-medium mr-2",children:"View Logs"}),(0,r.jsx)("div",{className:"bg-white dark:bg-slate-800 p-2 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700 hover:border-blue-300 dark:hover:border-blue-500 transition-colors",children:(0,r.jsx)(x,{})})]})]}),(0,r.jsxs)("div",{className:"bg-gray-100 dark:bg-slate-900/50 p-6 rounded-xl my-6 border border-transparent dark:border-slate-800",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold mb-3 dark:text-slate-100 flex items-center gap-2",children:[(0,r.jsx)("span",{className:"text-xl",children:"➕"})," Add New Source"]}),S&&(0,r.jsx)("p",{className:"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 p-3 rounded-lg mb-4 text-sm border border-red-200 dark:border-red-800",children:S}),(0,r.jsxs)("form",{onSubmit:M,className:"flex gap-3 flex-wrap",children:[(0,r.jsx)("input",{placeholder:"Name (e.g. PMI Exam Updates)",value:k.name,onChange:e=>j({...k,name:e.target.value}),required:!0,className:"flex-1 min-w-[200px] px-4 py-2.5 rounded-lg border border-gray-300 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-transparent outline-none transition-all placeholder-gray-400 dark:placeholder-slate-500"}),(0,r.jsx)("input",{placeholder:"URL (https://...)",type:"url",value:k.url,onChange:e=>j({...k,url:e.target.value}),required:!0,className:"flex-[2] min-w-[300px] px-4 py-2.5 rounded-lg border border-gray-300 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-transparent outline-none transition-all placeholder-gray-400 dark:placeholder-slate-500"}),(0,r.jsxs)("select",{value:k.frequency,onChange:e=>j({...k,frequency:e.target.value}),className:"px-4 py-2.5 rounded-lg border border-gray-300 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-transparent outline-none cursor-pointer",children:[(0,r.jsx)("option",{value:"Daily",children:"Daily"}),(0,r.jsx)("option",{value:"Weekly",children:"Weekly"})]}),(0,r.jsx)("button",{type:"submit",disabled:E,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white rounded-lg transition-colors",children:E?"Adding...":"Add Source"})]})]}),0===q&&t.length>0&&(0,r.jsxs)("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 text-green-700 dark:text-green-300 p-3 rounded-lg mb-5 flex items-center gap-2 text-sm",children:[(0,r.jsx)("span",{children:"\uD83D\uDEE1️"})," All monitored deadlines are currently under control."]}),(0,r.jsxs)("div",{className:"overflow-hidden bg-white dark:bg-slate-900/20 rounded-xl shadow-sm border border-gray-200 dark:border-slate-800",children:[(0,r.jsxs)("table",{className:"w-full border-collapse text-left",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"border-b border-gray-200 dark:border-slate-800 bg-gray-50/50 dark:bg-slate-900/40",children:[(0,r.jsx)("th",{className:"p-5 font-semibold text-gray-700 dark:text-slate-300",children:"Source"}),(0,r.jsxs)("th",{className:"p-5 font-semibold text-gray-700 dark:text-slate-300",children:["Status",(0,r.jsx)("div",{className:"text-xs text-gray-500 dark:text-slate-400 font-normal mt-0.5",children:"Guardian explains why changes matter"})]}),(0,r.jsx)("th",{className:"p-5 font-semibold text-gray-700 dark:text-slate-300",children:"Last Check"}),(0,r.jsx)("th",{className:"p-5 font-semibold text-gray-700 dark:text-slate-300",children:"Actions"})]})}),(0,r.jsxs)("tbody",{children:[0===t.length&&(0,r.jsx)("tr",{children:(0,r.jsxs)("td",{colSpan:4,className:"p-12 text-center text-gray-500 dark:text-slate-400",children:[(0,r.jsx)("div",{className:"text-4xl mb-3 opacity-80",children:"\uD83D\uDD2D"}),(0,r.jsx)("div",{className:"text-xl font-medium mb-2 text-gray-700 dark:text-slate-300",children:"No sources added yet."}),(0,r.jsx)("div",{className:"text-sm opacity-80",children:"Deadline Shield is watching quietly. Add a URL above to begin."})]})}),t.length>0&&0===t.filter(e=>"Changed"===e.lastStatus).length&&(0,r.jsx)("tr",{children:(0,r.jsxs)("td",{colSpan:4,className:"p-12 text-center text-gray-500 dark:text-slate-400",children:[(0,r.jsx)("div",{className:"text-4xl mb-3 opacity-80",children:"✅"}),(0,r.jsx)("div",{className:"text-lg font-medium mb-1 text-gray-700 dark:text-slate-300",children:"No recent changes detected."}),(0,r.jsx)("div",{className:"text-sm opacity-80",children:"Everything is stable. We'll alert you if deadlines move."})]})}),t.map(e=>{var t,a,s,n;let l="PAUSED"===e.status?"#666":"DEGRADED"===e.status?"orange":"Changed"===e.lastStatus?"red":"Error"===e.lastStatus?"orange":(null===(t=e.lastStatus)||void 0===t?void 0:t.includes("Blocked"))?"darkred":(null===(a=e.lastStatus)||void 0===a?void 0:a.includes("Needs"))?"#b8860b":"green";return(0,r.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-800/60 transition-colors border-b border-gray-100 dark:border-slate-800/50 last:border-0",style:{opacity:e.ackStatus?.6:1,filter:e.ackStatus?"grayscale(50%)":"none"},children:[(0,r.jsxs)("td",{className:"px-6 py-5",children:[(0,r.jsx)("div",{className:"font-medium text-gray-900 dark:text-slate-100 text-lg mb-0.5",children:e.name}),(0,r.jsx)("div",{className:"text-sm text-gray-500 dark:text-slate-400 truncate max-w-xs font-mono opacity-80",title:e.url,children:e.url}),"HIGH"===e.confidenceLevel&&(0,r.jsx)("div",{className:"text-xs text-teal-600 dark:text-cyan-400 flex items-center gap-1 mt-2 font-medium bg-teal-50 dark:bg-cyan-950/30 px-2 py-0.5 rounded-full w-fit",children:"\uD83D\uDEE1️ Historically Stable"}),(0,r.jsxs)("div",{className:"text-xs flex gap-2 mt-2",children:[(0,r.jsx)("span",{className:"bg-gray-800 dark:bg-slate-800 border border-gray-700 dark:border-slate-700 text-white dark:text-slate-200 px-2 py-0.5 rounded shadow-sm",children:"MANUAL"}),e.watchMode&&(0,r.jsx)("span",{className:"bg-gray-200 dark:bg-slate-800/50 dark:text-slate-300 px-2 py-0.5 rounded border border-transparent dark:border-slate-700",children:e.watchMode})]})]}),(0,r.jsx)("td",{style:{padding:10},children:(0,r.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",style:{color:"blue",textDecoration:"underline"},children:"Link"})}),(0,r.jsx)("td",{style:{padding:10},children:e.frequency}),(0,r.jsxs)("td",{style:{padding:10},children:[(0,r.jsx)("span",{style:{color:l,fontWeight:"bold"},children:e.status||e.lastStatus}),"DEGRADED"===e.status&&(0,r.jsxs)("div",{style:{fontSize:"0.7em",color:"orange"},children:["Backoff Lvl: ",e.backoffLevel]}),"Changed"===e.lastStatus&&(e.severityLevel||e.lastChangeSeverity)&&(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginTop:"4px"},children:[(0,r.jsx)("span",{title:null===(s=e.severityReasons)||void 0===s?void 0:s.join("\n"),style:{padding:"2px 6px",borderRadius:4,fontSize:"0.8em",color:"white",cursor:e.severityReasons?"help":"default",backgroundColor:"CRITICAL"===(e.severityLevel||e.lastChangeSeverity)?"red":"HIGH"===(e.severityLevel||e.lastChangeSeverity)?"orange":"MEDIUM"===(e.severityLevel||e.lastChangeSeverity)?"#DAA520":"green"},children:e.severityLevel||e.lastChangeSeverity}),F&&e.actionCategory&&!e.ackStatus&&(0,r.jsx)("span",{title:"".concat(e.actionGuidance,"\n\nConfidence: ").concat(e.actionConfidence).concat((null===(n=e.confidenceNotes)||void 0===n?void 0:n.length)?"\nNote: ".concat(e.confidenceNotes.join(" ")):""),style:{padding:"2px 6px",borderRadius:"4px",fontSize:"0.8em",fontWeight:"bold",border:"1px solid",cursor:"help",color:"ESCALATE"===e.actionCategory?"#721c24":"UPDATE"===e.actionCategory?"#856404":"REVIEW"===e.actionCategory?"#0c5460":"#155724",backgroundColor:"ESCALATE"===e.actionCategory?"#f8d7da":"UPDATE"===e.actionCategory?"#fff3cd":"REVIEW"===e.actionCategory?"#d1ecf1":"#d4edda",borderColor:"ESCALATE"===e.actionCategory?"#f5c6cb":"UPDATE"===e.actionCategory?"#ffeeba":"REVIEW"===e.actionCategory?"#bee5eb":"#c3e6cb"},children:"ESCALATE"===e.actionCategory?"\uD83D\uDEA8 ESCALATE":"UPDATE"===e.actionCategory?"\uD83D\uDCDD UPDATE":"REVIEW"===e.actionCategory?"\uD83D\uDD0D REVIEW":"✅ NO ACTION"}),!F&&"Changed"===e.lastStatus&&(0,r.jsx)("span",{style:{fontSize:"0.7em",color:"#666",fontStyle:"italic",border:"1px dashed #ccc",padding:"1px 4px",borderRadius:"4px"},title:"Upgrade to Pro for Guardian Action Guidance",children:"\uD83D\uDD12 Guardian Preview"}),e.ackStatus&&(0,r.jsxs)("span",{style:{fontSize:"0.75em",color:"#666",fontStyle:"italic"},children:["✅ Resolved (",e.ackStatus.replace("ACK_",""),")"]})]}),e.nextDeadline&&(0,r.jsxs)("div",{style:{marginTop:4,fontSize:"0.8em",color:"#d9534f",fontWeight:"bold"},children:["⏳ Next Deadline: ",new Date(1e3*e.nextDeadline.seconds).toLocaleDateString(),(0,r.jsxs)("span",{style:{marginLeft:6,fontSize:"0.9em",fontWeight:"normal"},children:["(",Math.ceil((e.nextDeadline.toMillis()-Date.now())/864e5),"d left)"]})]}),e.verifiedAt&&(0,r.jsxs)("div",{style:{marginTop:4,fontSize:"0.75em",background:"#e6fffa",border:"1px solid #b2f5ea",color:"#2c7a7b",padding:"2px 6px",borderRadius:4,display:"inline-block"},title:"Verified by ".concat(e.verifiedBy,": ").concat(e.verifiedNote),children:["✅ Verified (",e.verifiedReason,")"]}),e.lastChecked&&(0,r.jsxs)("div",{style:{fontSize:"0.8em",color:"#666",marginTop:4},children:["Checked: ",new Date(1e3*e.lastChecked.seconds).toLocaleDateString()]}),e.nextCheckAt&&"PAUSED"!==e.status&&(0,r.jsxs)("div",{style:{fontSize:"0.7em",color:"#888"},children:["Next: ",new Date(1e3*e.nextCheckAt.seconds).toLocaleTimeString()]}),e.needsCheck&&(0,r.jsx)("div",{style:{marginTop:5},children:(0,r.jsx)("button",{onClick:()=>W(e),style:{fontSize:"0.8em",background:"green",color:"white",border:"none",padding:"4px 8px",cursor:"pointer",borderRadius:4},children:"Verify Change"})}),e.lastError&&(0,r.jsxs)("div",{style:{color:"red",fontSize:"0.75em",marginTop:4,maxWidth:200,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},title:e.lastError,children:["Err: ",e.lastError]})]}),(0,r.jsxs)("td",{style:{padding:10},children:[(0,r.jsxs)("div",{style:{display:"flex",gap:10},children:["PAUSED"===e.status?(0,r.jsx)("button",{onClick:()=>Y(e),style:{color:"green",background:"none",border:"none",cursor:"pointer",fontSize:"0.9em"},children:"Resume"}):(0,r.jsx)("button",{onClick:()=>H(e),style:{color:"#666",background:"none",border:"none",cursor:"pointer",fontSize:"0.9em"},children:"Pause"}),(0,r.jsx)("button",{onClick:()=>e.id&&B(e.id),style:{color:"red",background:"none",border:"none",cursor:"pointer",fontSize:"0.9em"},children:"Delete"})]}),"Changed"===e.lastStatus&&!e.ackStatus&&(0,r.jsxs)("div",{style:{padding:"8px",background:"#f8f9fa",borderRadius:"4px",display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"10px"},children:[(0,r.jsx)("span",{style:{fontSize:"0.85em",fontWeight:"bold"},children:"Action Hub"}),(0,r.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,r.jsx)("button",{onClick:()=>e.id&&K(e.id,"ACK_REVIEWED"),className:"text-xs px-3 py-1 bg-white border border-gray-300 rounded hover:bg-gray-50",children:"Mark Reviewed"}),"UPDATE"===e.actionCategory&&(0,r.jsx)("button",{onClick:()=>e.id&&K(e.id,"ACK_UPDATED"),className:"text-xs px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Updated Timeline"}),"NO_ACTION"===e.actionCategory&&(0,r.jsx)("button",{onClick:()=>e.id&&K(e.id,"ACK_NO_ACTION"),className:"text-xs px-3 py-1 bg-gray-600 text-white rounded hover:bg-gray-700",children:"Not Relevant"})]})]})]})]},e.id)})]})]}),N&&(0,r.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:(0,r.jsxs)("div",{style:{background:"white",padding:30,borderRadius:8,width:400},children:[(0,r.jsx)("h3",{children:"Verify Snapshot"}),(0,r.jsxs)("p",{children:["You are marking the latest change as ",(0,r.jsx)("strong",{children:"OK"}),"."]}),(0,r.jsxs)("label",{style:{display:"block",marginBottom:10},children:["Reason:",(0,r.jsxs)("select",{value:A,onChange:e=>T(e.target.value),style:{width:"100%",padding:8,marginTop:5},children:[(0,r.jsx)("option",{value:"EXPECTED_CHANGE",children:"Expected Change"}),(0,r.jsx)("option",{value:"FALSE_POSITIVE",children:"False Positive"}),(0,r.jsx)("option",{value:"BLOCKED_BUT_OK",children:"Blocked But OK"}),(0,r.jsx)("option",{value:"OTHER",children:"Other"})]})]}),(0,r.jsxs)("label",{style:{display:"block",marginBottom:20},children:["Notes (optional):",(0,r.jsx)("textarea",{value:I,onChange:e=>R(e.target.value),placeholder:"Why is this change OK?",maxLength:300,style:{width:"100%",padding:8,marginTop:5,height:80}})]}),(0,r.jsxs)("div",{style:{display:"flex",gap:10,justifyContent:"flex-end"},children:[(0,r.jsx)("button",{onClick:()=>D(null),style:{padding:"8px 16px"},children:"Cancel"}),(0,r.jsx)("button",{onClick:V,style:{padding:"8px 16px",background:"green",color:"white",border:"none",borderRadius:4},children:"Verify & Save"})]})]})}),L&&(0,r.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:(0,r.jsxs)("div",{style:{background:"white",padding:30,borderRadius:8,width:400},children:[(0,r.jsx)("h3",{children:"Pause Monitoring"}),(0,r.jsxs)("label",{style:{display:"block",marginBottom:10},children:["Reason:",(0,r.jsxs)("select",{value:O,onChange:e=>U(e.target.value),style:{width:"100%",padding:8,marginTop:5},children:[(0,r.jsx)("option",{value:"TEMPORARY",children:"Temporary Pause"}),(0,r.jsx)("option",{value:"TOO_NOISY",children:"Too Noisy"}),(0,r.jsx)("option",{value:"BLOCKED_SITE",children:"Site is Blocked"}),(0,r.jsx)("option",{value:"NOT_NEEDED",children:"Not Needed Right Now"}),(0,r.jsx)("option",{value:"OTHER",children:"Other"})]})]}),(0,r.jsxs)("label",{style:{display:"block",marginBottom:20},children:["Notes (optional):",(0,r.jsx)("textarea",{value:_,onChange:e=>z(e.target.value),placeholder:"Additional context...",maxLength:300,style:{width:"100%",padding:8,marginTop:5,height:60}})]}),(0,r.jsxs)("div",{style:{display:"flex",gap:10,justifyContent:"flex-end"},children:[(0,r.jsx)("button",{onClick:()=>P(null),style:{padding:"8px 16px"},children:"Cancel"}),(0,r.jsx)("button",{onClick:G,style:{padding:"8px 16px",background:"#666",color:"white",border:"none",borderRadius:4},children:"Pause Monitor"})]})]})}),(0,r.jsx)(c.Z,{})]})]}):(0,r.jsx)("div",{style:{padding:20},children:(0,r.jsx)(d.default,{href:"/auth/login",children:"Please Login"})})}},1439:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});var r=a(7437);function s(){return(0,r.jsx)("footer",{style:{marginTop:40,padding:20,borderTop:"1px solid #ccc",fontSize:"0.8rem",color:"#666"},children:(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"DISCLAIMER:"})," This is an informational monitoring tool. Users are responsible for compliance decisions. Links point to original authoritative sources. Deadline-Shield does not provide legal advice."]})})}},5389:function(e,t,a){"use strict";a.d(t,{AuthProvider:function(){return c},a:function(){return d}});var r=a(7437),s=a(2265),n=a(3301),l=a(5978),i=a(6410);let o=(0,s.createContext)({user:null,profile:null,loading:!0,refreshProfile:async()=>{}}),d=()=>(0,s.useContext)(o),c=e=>{let{children:t}=e,[a,d]=(0,s.useState)(null),[c,u]=(0,s.useState)(null),[h,x]=(0,s.useState)(!0),g=async e=>{try{let a=(0,l.JU)(i.db,"users",e),r=await (0,l.QT)(a);if(r.exists())u(r.data());else{var t;null===(t=i.I8.currentUser)||void 0===t||t.email,u(null)}}catch(e){console.error("Error fetching profile",e)}};(0,s.useEffect)(()=>{let e=(0,n.Aj)(i.I8,async e=>{d(e),e?await g(e.uid):u(null),x(!1)});return()=>e()},[]);let m=async()=>{a&&await g(a.uid)};return(0,r.jsx)(o.Provider,{value:{user:a,profile:c,loading:h,refreshProfile:m},children:t})}},6410:function(e,t,a){"use strict";a.d(t,{I8:function(){return o},db:function(){return d},wk:function(){return c}});var r=a(738),s=a(3301),n=a(5978),l=a(5434);let i=(0,r.C6)().length?(0,r.C6)()[0]:(0,r.ZF)({apiKey:"AIzaSyCsTNwAAhZj29qsY2jrMhE-mWJPvDFLboE",authDomain:"deadline-shield.firebaseapp.com",projectId:"deadline-shield",storageBucket:"deadline-shield.firebasestorage.app",messagingSenderId:"175539559536",appId:"1:175539559536:web:e46a23776705c8b93668b5"}),o=(0,s.v0)(i),d=(0,n.ad)(i),c=(0,l.$C)(i,"us-central1")},5922:function(e,t,a){"use strict";a.d(t,{F:function(){return c},f:function(){return u}});var r=a(2265),s=(e,t,a,r,s,n,l,i)=>{let o=document.documentElement,d=["light","dark"];function c(t){(Array.isArray(e)?e:[e]).forEach(e=>{let a="class"===e,r=a&&n?s.map(e=>n[e]||e):s;a?(o.classList.remove(...r),o.classList.add(n&&n[t]?n[t]:t)):o.setAttribute(e,t)}),i&&d.includes(t)&&(o.style.colorScheme=t)}if(r)c(r);else try{let e=localStorage.getItem(t)||a,r=l&&"system"===e?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e;c(r)}catch(e){}},n=["light","dark"],l="(prefers-color-scheme: dark)",i="undefined"==typeof window,o=r.createContext(void 0),d={setTheme:e=>{},themes:[]},c=()=>{var e;return null!=(e=r.useContext(o))?e:d},u=e=>r.useContext(o)?r.createElement(r.Fragment,null,e.children):r.createElement(x,{...e}),h=["light","dark"],x=e=>{let{forcedTheme:t,disableTransitionOnChange:a=!1,enableSystem:s=!0,enableColorScheme:i=!0,storageKey:d="theme",themes:c=h,defaultTheme:u=s?"system":"light",attribute:x="data-theme",value:y,children:f,nonce:v,scriptProps:k}=e,[j,S]=r.useState(()=>m(d,u)),[C,E]=r.useState(()=>"system"===j?b():j),w=y?Object.values(y):c,N=r.useCallback(e=>{let t=e;if(!t)return;"system"===e&&s&&(t=b());let r=y?y[t]:t,l=a?p(v):null,o=document.documentElement,d=e=>{"class"===e?(o.classList.remove(...w),r&&o.classList.add(r)):e.startsWith("data-")&&(r?o.setAttribute(e,r):o.removeAttribute(e))};if(Array.isArray(x)?x.forEach(d):d(x),i){let e=n.includes(u)?u:null,a=n.includes(t)?t:e;o.style.colorScheme=a}null==l||l()},[v]),D=r.useCallback(e=>{let t="function"==typeof e?e(j):e;S(t);try{localStorage.setItem(d,t)}catch(e){}},[j]),A=r.useCallback(e=>{E(b(e)),"system"===j&&s&&!t&&N("system")},[j,t]);r.useEffect(()=>{let e=window.matchMedia(l);return e.addListener(A),A(e),()=>e.removeListener(A)},[A]),r.useEffect(()=>{let e=e=>{e.key===d&&(e.newValue?S(e.newValue):D(u))};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[D]),r.useEffect(()=>{N(null!=t?t:j)},[t,j]);let T=r.useMemo(()=>({theme:j,setTheme:D,forcedTheme:t,resolvedTheme:"system"===j?C:j,themes:s?[...c,"system"]:c,systemTheme:s?C:void 0}),[j,D,t,C,s,c]);return r.createElement(o.Provider,{value:T},r.createElement(g,{forcedTheme:t,storageKey:d,attribute:x,enableSystem:s,enableColorScheme:i,defaultTheme:u,value:y,themes:c,nonce:v,scriptProps:k}),f)},g=r.memo(e=>{let{forcedTheme:t,storageKey:a,attribute:n,enableSystem:l,enableColorScheme:i,defaultTheme:o,value:d,themes:c,nonce:u,scriptProps:h}=e,x=JSON.stringify([n,a,o,t,c,d,l,i]).slice(1,-1);return r.createElement("script",{...h,suppressHydrationWarning:!0,nonce:"undefined"==typeof window?u:"",dangerouslySetInnerHTML:{__html:"(".concat(s.toString(),")(").concat(x,")")}})}),m=(e,t)=>{let a;if(!i){try{a=localStorage.getItem(e)||void 0}catch(e){}return a||t}},p=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},b=e=>(e||(e=window.matchMedia(l)),e.matches?"dark":"light")}},function(e){e.O(0,[358,139,943,972,72,971,117,744],function(){return e(e.s=3185)}),_N_E=e.O()}]);