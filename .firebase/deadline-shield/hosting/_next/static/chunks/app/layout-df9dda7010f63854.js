(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{976:function(e,n,t){Promise.resolve().then(t.bind(t,4114)),Promise.resolve().then(t.bind(t,5389))},4114:function(e,n,t){"use strict";t.d(n,{default:function(){return d}});var r=t(7437),i=t(7648),l=t(5389),a=t(3301),s=t(6410);function d(){let{user:e,loading:n}=(0,l.a)(),t=async()=>{try{await (0,a.w7)(s.I8)}catch(e){console.error("Logout error",e)}};return n?null:(0,r.jsxs)("div",{style:{display:"flex",gap:16,padding:16,borderBottom:"1px solid #ddd",alignItems:"center"},children:[(0,r.jsx)(i.default,{href:"/",style:{fontWeight:"bold"},children:"Deadline Shield"}),e&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.default,{href:"/dashboard",children:"Dashboard"}),(0,r.jsx)(i.default,{href:"/changes",children:"Changes"})]}),(0,r.jsx)("div",{style:{marginLeft:"auto"},children:e?(0,r.jsxs)("div",{style:{display:"flex",gap:10,alignItems:"center"},children:[(0,r.jsx)("span",{style:{fontSize:"0.9em",color:"#666"},children:e.email}),(0,r.jsx)("button",{onClick:t,style:{padding:"6px 12px",cursor:"pointer"},children:"Sign out"})]}):(0,r.jsx)(i.default,{href:"/auth/login",style:{padding:"6px 12px",background:"#0070f3",color:"white",borderRadius:4,textDecoration:"none"},children:"Login"})})]})}},5389:function(e,n,t){"use strict";t.d(n,{AuthProvider:function(){return u},a:function(){return o}});var r=t(7437),i=t(2265),l=t(3301),a=t(5978),s=t(6410);let d=(0,i.createContext)({user:null,profile:null,loading:!0,refreshProfile:async()=>{}}),o=()=>(0,i.useContext)(d),u=e=>{let{children:n}=e,[t,o]=(0,i.useState)(null),[u,c]=(0,i.useState)(null),[f,h]=(0,i.useState)(!0),p=async e=>{try{let t=(0,a.JU)(s.db,"users",e),r=await (0,a.QT)(t);if(r.exists())c(r.data());else{var n;null===(n=s.I8.currentUser)||void 0===n||n.email,c(null)}}catch(e){console.error("Error fetching profile",e)}};(0,i.useEffect)(()=>{let e=(0,l.Aj)(s.I8,async e=>{o(e),e?await p(e.uid):c(null),h(!1)});return()=>e()},[]);let g=async()=>{t&&await p(t.uid)};return(0,r.jsx)(d.Provider,{value:{user:t,profile:u,loading:f,refreshProfile:g},children:n})}},6410:function(e,n,t){"use strict";t.d(n,{I8:function(){return d},db:function(){return o},wk:function(){return u}});var r=t(738),i=t(3301),l=t(5978),a=t(5434);let s=(0,r.C6)().length?(0,r.C6)()[0]:(0,r.ZF)({apiKey:"AIzaSyCsTNwAAhZj29qsY2jrMhE-mWJPvDFLboE",authDomain:"deadline-shield.firebaseapp.com",projectId:"deadline-shield",storageBucket:"deadline-shield.firebasestorage.app",messagingSenderId:"175539559536",appId:"1:175539559536:web:e46a23776705c8b93668b5"}),d=(0,i.v0)(s),o=(0,l.ad)(s),u=(0,a.$C)(s,"us-central1")}},function(e){e.O(0,[358,139,943,972,72,971,117,744],function(){return e(e.s=976)}),_N_E=e.O()}]);