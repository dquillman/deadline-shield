(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[381],{1862:function(e,n,t){Promise.resolve().then(t.bind(t,9388))},9388:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return c}});var r=t(7437),s=t(2265),i=t(5389),o=t(6410),l=t(5978),a=t(7648),d=t(1439);function c(){let{user:e,loading:n}=(0,i.a)(),[t,c]=(0,s.useState)([]),[u,f]=(0,s.useState)(!0);return((0,s.useEffect)(()=>{e&&(async()=>{try{let n=(0,l.IO)((0,l.hJ)(o.db,"changes"),(0,l.ar)("userId","==",e.uid),(0,l.Xo)("detectedAt","desc"),(0,l.b9)(50)),t=(await (0,l.PL)(n)).docs.map(e=>({id:e.id,...e.data()}));c(t)}catch(e){console.error(e)}finally{f(!1)}})()},[e]),n)?(0,r.jsx)("p",{children:"Loading..."}):e?(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,r.jsx)("h1",{children:"Change Logs"}),(0,r.jsx)(a.default,{href:"/dashboard",style:{color:"blue"},children:"â† Back to Dashboard"})]}),u?(0,r.jsx)("p",{children:"Loading changes..."}):(0,r.jsxs)("ul",{style:{listStyle:"none",padding:0},children:[t.map(e=>(0,r.jsxs)("li",{style:{border:"1px solid #ddd",margin:"10px 0",padding:15,borderRadius:8},children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:5},children:[(0,r.jsx)("strong",{children:(0,r.jsx)("a",{href:e.sourceUrl,target:"_blank",rel:"noopener noreferrer",style:{color:"blue"},children:"Source Link"})}),(0,r.jsx)("span",{style:{color:"#666",fontSize:"0.9em"},children:e.detectedAt?new Date(1e3*e.detectedAt.seconds).toLocaleString():"Unknown Date"})]}),e.severity&&(0,r.jsxs)("div",{style:{marginBottom:8},children:[(0,r.jsxs)("span",{style:{padding:"2px 6px",borderRadius:4,fontSize:"0.8em",color:"white",fontWeight:"bold",backgroundColor:"CRITICAL"===e.severity?"red":"HIGH"===e.severity?"orange":"MEDIUM"===e.severity?"#DAA520":"green"},children:[e.severity," (",e.score,"/100)"]}),e.scoreReasons&&e.scoreReasons.length>0&&(0,r.jsxs)("span",{style:{marginLeft:10,fontSize:"0.9em",color:"#555"},children:["Detected: ",e.scoreReasons.join(", ")]})]}),(0,r.jsx)("div",{style:{background:"#f9f9f9",padding:10,borderRadius:4,fontFamily:"monospace",fontSize:"0.9em"},children:e.diffSummary})]},e.id)),0===t.length&&(0,r.jsx)("p",{style:{color:"#666"},children:"No changes detected yet."})]}),(0,r.jsx)(d.Z,{})]}):(0,r.jsx)("div",{style:{padding:20},children:(0,r.jsx)(a.default,{href:"/auth/login",children:"Please Login"})})}},1439:function(e,n,t){"use strict";t.d(n,{Z:function(){return s}});var r=t(7437);function s(){return(0,r.jsx)("footer",{style:{marginTop:40,padding:20,borderTop:"1px solid #ccc",fontSize:"0.8rem",color:"#666"},children:(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"DISCLAIMER:"})," This is an informational monitoring tool. Users are responsible for compliance decisions. Links point to original authoritative sources. Deadline-Shield does not provide legal advice."]})})}},5389:function(e,n,t){"use strict";t.d(n,{AuthProvider:function(){return c},a:function(){return d}});var r=t(7437),s=t(2265),i=t(3301),o=t(5978),l=t(6410);let a=(0,s.createContext)({user:null,profile:null,loading:!0,refreshProfile:async()=>{}}),d=()=>(0,s.useContext)(a),c=e=>{let{children:n}=e,[t,d]=(0,s.useState)(null),[c,u]=(0,s.useState)(null),[f,h]=(0,s.useState)(!0),p=async e=>{try{let t=(0,o.JU)(l.db,"users",e),r=await (0,o.QT)(t);if(r.exists())u(r.data());else{var n;null===(n=l.I8.currentUser)||void 0===n||n.email,u(null)}}catch(e){console.error("Error fetching profile",e)}};(0,s.useEffect)(()=>{let e=(0,i.Aj)(l.I8,async e=>{d(e),e?await p(e.uid):u(null),h(!1)});return()=>e()},[]);let g=async()=>{t&&await p(t.uid)};return(0,r.jsx)(a.Provider,{value:{user:t,profile:c,loading:f,refreshProfile:g},children:n})}},6410:function(e,n,t){"use strict";t.d(n,{I8:function(){return a},db:function(){return d},wk:function(){return c}});var r=t(738),s=t(3301),i=t(5978),o=t(5434);let l=(0,r.C6)().length?(0,r.C6)()[0]:(0,r.ZF)({apiKey:"AIzaSyCsTNwAAhZj29qsY2jrMhE-mWJPvDFLboE",authDomain:"deadline-shield.firebaseapp.com",projectId:"deadline-shield",storageBucket:"deadline-shield.firebasestorage.app",messagingSenderId:"175539559536",appId:"1:175539559536:web:e46a23776705c8b93668b5"}),a=(0,s.v0)(l),d=(0,i.ad)(l),c=(0,o.$C)(l,"us-central1")}},function(e){e.O(0,[358,139,943,972,72,971,117,744],function(){return e(e.s=1862)}),_N_E=e.O()}]);